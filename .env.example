# SignUpFlow Environment Configuration Template
# Copy this file to .env and fill in your actual values
# DO NOT COMMIT .env TO VERSION CONTROL!

# ==============================================================================
# Database Configuration
# ==============================================================================
# For local development with SQLite:
# DATABASE_URL=sqlite:///./roster.db

# For production with PostgreSQL (used by docker-compose):
POSTGRES_DB=signupflow
POSTGRES_USER=signupflow
POSTGRES_PASSWORD=changeme_in_production_use_strong_password
POSTGRES_PORT=5432
DATABASE_URL=postgresql://signupflow:changeme_in_production_use_strong_password@db:5432/signupflow

# ==============================================================================
# reCAPTCHA Configuration
# ==============================================================================
# Get keys from: https://www.google.com/recaptcha/admin
RECAPTCHA_SITE_KEY=your_recaptcha_site_key_here
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key_here

# ==============================================================================
# Rate Limiting Configuration
# ==============================================================================
RATE_LIMIT_SIGNUP_MAX=3
RATE_LIMIT_SIGNUP_WINDOW=3600
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=300
RATE_LIMIT_CREATE_ORG_MAX=2
RATE_LIMIT_CREATE_ORG_WINDOW=3600
RATE_LIMIT_CREATE_INVITATION_MAX=10
RATE_LIMIT_CREATE_INVITATION_WINDOW=300
RATE_LIMIT_VERIFY_INVITATION_MAX=10
RATE_LIMIT_VERIFY_INVITATION_WINDOW=60
RATE_LIMIT_PASSWORD_RESET_MAX=3
RATE_LIMIT_PASSWORD_RESET_WINDOW=3600
RATE_LIMIT_PASSWORD_RESET_CONFIRM_MAX=5
RATE_LIMIT_PASSWORD_RESET_CONFIRM_WINDOW=300

# ==============================================================================
# Mailtrap Email Testing Configuration
# ==============================================================================

# Mailtrap SMTP Credentials (for sending emails in development)
# Get from: https://mailtrap.io/ → Inbox → SMTP Settings
MAILTRAP_SMTP_HOST=sandbox.smtp.mailtrap.io
MAILTRAP_SMTP_PORT=2525
MAILTRAP_SMTP_USER=your_mailtrap_smtp_username
MAILTRAP_SMTP_PASSWORD=your_mailtrap_smtp_password

# Mailtrap Inbox API (OPTIONAL - for automated email verification in tests)
# Tests will skip gracefully if these are not configured
# Get from: https://mailtrap.io/
#   1. API Token: Settings → API Tokens → Create Token
#   2. Account ID & Inbox ID: From inbox URL
#      https://mailtrap.io/accounts/{ACCOUNT_ID}/inboxes/{INBOX_ID}
MAILTRAP_API_TOKEN=
MAILTRAP_ACCOUNT_ID=
MAILTRAP_INBOX_ID=3238231

# Email Service Configuration
EMAIL_FROM=noreply@signupflow.io
EMAIL_FROM_NAME=SignUpFlow

# ==============================================================================
# Twilio SMS Configuration
# ==============================================================================
# Get credentials from: https://console.twilio.com/
# For testing: Use Twilio Test Credentials (free, no charges)
# Test Account SID format: ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Test Auth Token format: your_auth_token_here
# Test Phone Number format: +15005550006 (Twilio magic number for testing)
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+15005550006

# Twilio SMS Configuration (Optional - defaults provided)
TWILIO_STATUS_CALLBACK_URL=http://localhost:8000/api/webhooks/twilio/status
TWILIO_INCOMING_SMS_URL=http://localhost:8000/api/webhooks/twilio/incoming

# Redis Configuration (for Celery and rate limiting)
# For local development:
# REDIS_URL=redis://localhost:6379/0
# For docker-compose (with password):
REDIS_PASSWORD=changeme_in_production_use_strong_password
REDIS_PORT=6379
REDIS_URL=redis://:changeme_in_production_use_strong_password@redis:6379/0

# ==============================================================================
# Stripe Billing Configuration
# ==============================================================================
# Get keys from: https://dashboard.stripe.com/test/apikeys
# Use test mode keys for development (pk_test_..., sk_test_...)
# For production, use live mode keys (pk_live_..., sk_live_...)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLIC_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs (create these in Stripe Dashboard → Products)
# Format: price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_STARTER_MONTHLY=price_starter_monthly_placeholder
STRIPE_PRICE_STARTER_ANNUAL=price_starter_annual_placeholder
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_placeholder
STRIPE_PRICE_PRO_ANNUAL=price_pro_annual_placeholder
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_placeholder
STRIPE_PRICE_ENTERPRISE_ANNUAL=price_enterprise_annual_placeholder

# ==============================================================================
# JWT Authentication Configuration
# ==============================================================================
SECRET_KEY=change-this-to-a-random-secret-key-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_HOURS=24

# ==============================================================================
# Application Configuration
# ==============================================================================
APP_URL=http://localhost:8000
API_BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:8000

# Server Configuration (for docker-compose)
PORT=8000
HOST=0.0.0.0
WORKERS=4

# Environment
ENVIRONMENT=development  # Options: development, staging, production
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# Testing Mode (leave commented out in production)
# TESTING=true

# Feature Flags
RATE_LIMITING_ENABLED=true
EMAIL_ENABLED=true
SMS_ENABLED=true
SESSION_TTL_HOURS=24

# ==============================================================================
# Stripe Billing Configuration
# ==============================================================================

# Stripe API Keys (get from: https://dashboard.stripe.com/apikeys)
# For development: Use TEST keys (pk_test_... and sk_test_...)
# For production: Use LIVE keys (pk_live_... and sk_live_...)
# IMPORTANT: NEVER commit live secret keys (sk_live_...) to version control!
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Webhook Signing Secret (configure after creating webhook endpoint)
# Get from: Stripe Dashboard → Developers → Webhooks → Add endpoint
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Test Mode Toggle (true for test mode, false for live mode)
STRIPE_TEST_MODE=true
